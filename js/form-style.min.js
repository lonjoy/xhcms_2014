(function(a){a(document).on("click",function(b){a(".fm-select").each(function(){var c=a(this);if(!c[0].contains(b.target)){c.removeClass("selecting")}})});a.fn.extend({toRadio:function(){return this.each(function(){var c=a(this),b=a('<i class="fm-item fm-radio"></i>');if(c.data("radio-init")){return}c.after(b);c.on("click checked",function(){a("[name='"+this.name+"']").not(this).parent().removeClass("checked");c.parent().addClass("checked")});return c.data("radio-init",true).appendTo(b)}).filter(":checked").trigger("checked")},toCheckbox:function(){return this.each(function(){var c=a(this),b=a('<i class="fm-item fm-checkbox"></i>');if(c.data("checkbox-init")){return}c.after(b);c.on("click checked",function(){c.parent().toggleClass("checked")});return c.data("checkbox-init",true).appendTo(b)}).filter(":checked").trigger("checked")},toSwitch:function(){return this.each(function(){var c=a(this),b=a('<i class="fm-item fm-switch"></i>');if(c.data("switch-init")){return}c.after(b);c.on("click checked",function(){c.parent().toggleClass("checked")});return c.data("switch-init",true).appendTo(b)}).filter(":checked").trigger("checked")},toSelect:function(b){b=b||{};return this.each(function(){var h=a(this),c=a('<i class="fm-item fm-select"><span class="value-holder"></span><div class="option-holder"></div></i>');if(h.data("select-init")){return}h.after(c);if(b.colorful){c.addClass("colorful")}c.css({width:b.width||h.width()});var g=c.children(".value-holder"),f=c.children(".option-holder"),d=h.children(":selected");g.html(d.html());var e=h.html().replace(/<option(.*?)>(.*?)<\/option>/gi,"<a$1>$2</a>");f.html(e).on("click","a",function(j){var i=a(j.target);h.val(i.attr("value")).trigger("change");g.html(i.html())});c.on("click",function(){a(this).toggleClass("selecting")});return h.data("select-init",true).appendTo(c)})},toPager:function(c,b){return a(this).each(function(){var m=a(this);var e=a.extend({el:m,totalPage:1,currentPage:1,preposePagesCount:1,postposePagesCount:1,firstPagesCount:2,lastPagesCount:2,"switch":null},c);var p="",j=e.totalPage,q=e.currentPage,k=e.preposePagesCount,h=e.postposePagesCount,r=e.firstPagesCount,d=e.lastPagesCount,f;function l(i){return'<a class="pagination-spec" data-page="'+i+'">'+i+"</a>"}p+=q===1?'<span class="pagination-start"><span>\u4e0a\u4e00\u9875</span></span>':'<a class="pagination-prev"><span>\u4e0a\u4e00\u9875</span></a>';if(q<=r+k+1){for(var g=1;g<q;g++){p+=l(g)}}else{for(var g=1;g<=r;g++){p+=l(g)}p+='<span class="pagination-break">...</span>';for(var g=q-k;g<=q-1;g++){p+=l(g)}}p+='<span class="pagination-curr">'+q+"</span>";if(q>=j-d-h){f=q+1;for(var g=q+1;g<=j;g++){p+=l(g)}}else{for(var g=q+1;g<=q+h;g++){p+=l(g)}p+='<span class="pagination-break">...</span>';for(var g=j-d+1;g<=j;g++){p+=l(g)}}p+=q===j?'<span class="pagination-end"><span>\u4e0b\u4e00\u9875</span></span>':'<a class="pagination-next"><span>\u4e0b\u4e00\u9875</span></a>';a(e.el).html(p);function n(i){e.currentPage=Number(i);m.toPager(e,true);m.trigger("switch",{toPage:e.currentPage})}if(!b){m.on("switch",e["switch"]);a(e.el).on("click",".pagination-spec",function(i){n(a(this).attr("data-page"))}).on("click",".pagination-prev",function(i){n(e.currentPage-1)}).on("click",".pagination-next",function(i){n(e.currentPage+1)})}})}})})(jQuery);
