!function(t){t(document).on("click",function(a){t(".fm-select").each(function(){var e=t(this);e[0].contains(a.target)||e.removeClass("selecting")})}),t.fn.extend({toRadio:function(){return this.each(function(){var a=t(this),e=t('<i class="fm-item fm-radio"></i>');if(!a.data("radio-init"))return a.after(e),a.on("click checked",function(){t("[name='"+this.name+"']").not(this).parent().removeClass("checked"),a.parent().addClass("checked")}),a.data("radio-init",!0).appendTo(e)}).filter(":checked").trigger("checked")},toCheckbox:function(){return this.each(function(){var a=t(this),e=t('<i class="fm-item fm-checkbox"></i>');if(!a.data("checkbox-init"))return a.after(e),a.on("click checked",function(){a.parent()[this.checked?"addClass":"removeClass"]("checked")}),a.data("checkbox-init",!0).appendTo(e)}).filter(":checked").trigger("checked")},toSwitch:function(){return this.each(function(){var a=t(this),e=t('<i class="fm-item fm-switch"></i>');if(!a.data("switch-init"))return a.after(e),a.on("click checked",function(){a.parent()[this.checked?"addClass":"removeClass"]("checked")}),a.data("switch-init",!0).appendTo(e)}).filter(":checked").trigger("checked")},toSelect:function(a){return a=a||{},this.each(function(){var e=t(this),n=e.attr("value"),i=t('<i class="fm-item fm-select"><span class="value-holder"></span><div class="option-holder"></div></i>');if(!e.data("select-init")){e.after(i),n&&e.val(n),a.colorful&&i.addClass("colorful"),i.css({width:a.width||e.width()});var c=i.children(".value-holder"),s=i.children(".option-holder"),o=e.children(":selected");c.html(o.html());var r=e.html().replace(/<option(.*?)>(.*?)<\/option>/gi,"<a$1>$2</a>");return s.html(r).on("click","a",function(){var a=t(this);e.val(a.attr("value")).trigger("change"),c.html(a.html())}),i.on("click",function(){t(this).toggleClass("selecting")}),e.on("selectVal",function(a,e){e&&t(this).val(e),s.find('a[value="'+this.value+'"]').trigger("click"),i.removeClass("selecting")}),e.data("select-init",!0).appendTo(i)}})},toPager:function(a){return t(this).each(function(){function e(t){return'<a class="pagination-spec" data-page="'+t+'">'+t+"</a>"}function n(t){s.currentPage=Number(t),c.toPager(s,!0),c.trigger("switch",{toPage:s.currentPage})}var i,c=t(this),s=t.extend({el:c,totalPage:1,currentPage:1,preposePagesCount:1,postposePagesCount:1,firstPagesCount:2,lastPagesCount:2,"switch":null},a),o="",r=s.totalPage,l=s.currentPage,h=s.preposePagesCount,p=s.postposePagesCount,u=s.firstPagesCount,f=s.lastPagesCount;if(o+=1===l?'<span class="pagination-start"><span>上一页</span></span>':'<a class="pagination-prev"><span>上一页</span></a>',u+h+1>=l)for(var d=1;l>d;d++)o+=e(d);else{for(var d=1;u>=d;d++)o+=e(d);o+='<span class="pagination-break">...</span>';for(var d=l-h;l-1>=d;d++)o+=e(d)}if(o+='<span class="pagination-curr">'+l+"</span>",l>=r-f-p){i=l+1;for(var d=l+1;r>=d;d++)o+=e(d)}else{for(var d=l+1;l+p>=d;d++)o+=e(d);o+='<span class="pagination-break">...</span>';for(var d=r-f+1;r>=d;d++)o+=e(d)}r=0===r?1:r,o+=l===r?'<span class="pagination-end"><span>下一页</span></span>':'<a class="pagination-next"><span>下一页</span></a>',t(s.el).html(o),c.off("switch").on("switch",s["switch"]),t(s.el).off("click").on("click",".pagination-spec",function(){n(t(this).html())}).on("click",".pagination-prev",function(){n(Number(t(this).siblings(".pagination-curr").html())-1)}).on("click",".pagination-next",function(){n(Number(t(this).siblings(".pagination-curr").html())+1)})})}})}(jQuery);