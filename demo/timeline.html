<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>timeline</title>
	<link rel="stylesheet" href="../css/jqueryui/jquery-ui.css">
	<script src="../js/jquery.min.js"></script>
	<script src="../js/require.js"></script>
	<script src="../js/require-config.js"></script>
	<style> 
		#timeline-embed h2.tips{height:30px;text-align:center;padding:30px;font-family:微软雅黑;font-size:16px; color:#CCC;}
	</style>
</head>
<body>
	
	<div id="my-timeline"></div>

<script>

	require(['iealert'],function(IEAlert){
		new IEAlert();
	});
	
	require(['WdatePicker']);


	/**
	 * 时间轴
	 * @see https://github.com/NUKnightLab/TimelineJS
	 */
	require(['timeline'],function(){

		// createStoryJS({
  //          type:       'timeline',
  //          width:      '100%',
  //          height:     '720',
  //          start_at_slide: 0,
		//  	start_zoom_adjust:  3,
		//  	lang:"zh-cn",
  //          source:     'json/timeline.json',
  //          embed_id:   'my-timeline'
  //      });

		$.ajax({
			url: 'json/timeline.json',
			dataType: 'json',
			success: function(data){

				data.timeline.date.sort(function(a,b){
					return a.startDate < b.startDate;
				});

				createStoryJS({
		            type:       'timeline',
		            width:      '100%',
		            height:     '720',
		            start_at_slide: 0,
				 	start_zoom_adjust:  3,
				 	lang:"zh-cn",
		            source:     data,
		            embed_id:   'my-timeline',
		            start_at_end : true
		        });
			}
		});

	});

</script>
</body>
</html>