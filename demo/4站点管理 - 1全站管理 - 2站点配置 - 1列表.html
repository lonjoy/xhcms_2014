$belong[html/main.html]
<div class="mainRight">
	<h1>站点配置</h1>
	<div class="station_menu">
		<input type="checkbox" name="checkbox" class="checkbox" id="all" value="0"> <label for="all">全选</label>
		<a class="fm-button btn-add round" href="#">添加站点</a>
		<a class="fm-button btn-edit round" href="#">编辑</a>
		<a class="fm-button btn-delete round" href="#">删除</a>
	</div>
	<table class="table station_table">
		<tr>
			<th width="8%">ID</th>
			<th>名称</th>
			<th>域名</th>
			<th>路径</th>
			<th>动态页后缀</th>
			<th>静态页后缀</th>
			<th>前台本地化</th>
			<th>操作</th>
		</tr>
		
		<tr>
			<td><input type="checkbox" name="checkbox" class="checkbox" id="checkbox0" value="0"> <label for="checkbox0">3043</label></td>
			<td style="color:#2cac93;">新华网</td>
			<td>aip.hong.com</td>
			<td>0</td>
			<td>html</td>
			<td>html</td>
			<td>html</td>
			<td style="color:#2cac93;"><a href="#">编辑</a> | <a class="delete" href="#">删除</a></td>
		</tr>
		
		<tr>
			<td><input type="checkbox" name="checkbox" class="checkbox" id="checkbox1" value="1"> <label for="checkbox1">3043</label></td>
			<td style="color:#2cac93;">新华网</td>
			<td>aip.hong.com</td>
			<td>1</td>
			<td>html</td>
			<td>html</td>
			<td>html</td>
			<td style="color:#2cac93;"><a href="#">编辑</a> | <a class="delete" href="#">删除</a></td>
		</tr>
		
		<tr>
			<td><input type="checkbox" name="checkbox" class="checkbox" id="checkbox2" value="2"> <label for="checkbox2">3043</label></td>
			<td style="color:#2cac93;">新华网</td>
			<td>aip.hong.com</td>
			<td>2</td>
			<td>html</td>
			<td>html</td>
			<td>html</td>
			<td style="color:#2cac93;"><a href="#">编辑</a> | <a class="delete" href="#">删除</a></td>
		</tr>
		
		<tr>
			<td><input type="checkbox" name="checkbox" class="checkbox" id="checkbox3" value="3"> <label for="checkbox3">3043</label></td>
			<td style="color:#2cac93;">新华网</td>
			<td>aip.hong.com</td>
			<td>3</td>
			<td>html</td>
			<td>html</td>
			<td>html</td>
			<td style="color:#2cac93;"><a href="#">编辑</a> | <a class="delete" href="#">删除</a></td>
		</tr>
		<tr>
			<td><input type="checkbox" name="checkbox" class="checkbox" id="checkbox4" value="4"> <label for="checkbox4">3043</label></td>
			<td style="color:#2cac93;">新华网</td>
			<td>aip.hong.com</td>
			<td>4</td>
			<td>html</td>
			<td>html</td>
			<td>html</td>
			<td style="color:#2cac93;"><a href="#">编辑</a> | <a class="delete" href="#">删除</a></td>
		</tr>
	</table>
</div>
<script>
(function(){
	require(["form-style","alerts","draggable"],function(){
		$(".checkbox").toCheckbox();
	});
	$(".station_menu").find(".checkbox").on("click",function(){
		if($(".station_menu").find(".checkbox")[0].checked){
			for(i=0; i<$(".station_table").find(".checkbox").length; i++){
				$(".station_table").find(".checkbox")[i].checked=true;
				$(".station_table").find(".fm-checkbox").eq(i).addClass("checked");
			}
		}else{
			for(i=0; i<$(".station_table").find(".checkbox").length; i++){
				$(".station_table").find(".checkbox")[i].checked=false;
				$(".station_table").find(".fm-checkbox").eq(i).removeClass("checked");
			}
		}
	})
	
	$(".station_menu").find(".btn-delete").on("click",function(){
		var arr=[];
		for(i=0; i<$(".station_table").find(".checkbox").length; i++){
			if($(".station_table").find(".checkbox")[i].checked){
				arr.push($(".station_table").find(".checkbox")[i].id)			
			}
		}

		if(arr[0]){
			jConfirm('<h2 class="title"></h2> <p class="delete_content">是否删除该条信息</p> ',"",{
				okButton : "是",
				cancelButton : "否"
			},function(result){
				if(result ){
					for(i=0;i<arr.length;i++){
						$("#"+arr[i]).parent().parent().parent().remove()			
					}
					$.ajax({
						type:"get",
						url:"url",
						data:arr,
						success: function(msg) {
							for(i=0;i<arr.length;i++){
								$("#"+arr[i]).parent().parent().parent().remove()			
							}
						}
					})
				}
			});	
		}
		if(arr[0]&&arr[1]){
			$(".delete_content").html("是否删除多条信息");
		}
		if(!arr[0])	{
			jAlert('<h2 class="title"></h2> <p class="delete_content">请选择删除项</p>');
		}
	});

    $(".station_menu").find(".btn-edit").on("click",function(){
		var arr=[];
		for(i=0; i<$(".station_table").find(".checkbox").length; i++){
			if($(".station_table").find(".checkbox")[i].checked){
				arr.push($(".station_table").find(".checkbox")[i].id)			
			}
		};
		var num=arr.length;
		if(num==1){
			$.ajax({
				url:"",
				data:arr,
			});
		}if(num==0){
			jAlert('<h2 class="title"></h2> <p class="delete_content">请选择一项</p>');
		}else if(num!==1&&num!==0){
			jAlert('<h2 class="title"></h2> <p class="delete_content">只能选择一项</p>');
		}
	});
	var deList=$(".station_table").find(".delete");
	deList.each(function(){
		$(this).on("click",function(){
			var newIndex=deList.index(this);
			var ID=$(".station_table").find(".checkbox").eq(newIndex).attr("id");
			alert(ID);
			$(this).parent().parent().remove();
		})
		$.ajax({
			url:"",
			data:"ID",
			success:function(){
				$(this).parent().parent().remove();
			}
		});

	})

})();

</script>
</body>
</html>